{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.routing.ts","webpack:///./src/app/login-service/authentication-service.service.ts","webpack:///./src/app/login-service/can-activate-auth.guard.ts","webpack:///./src/app/login-service/jwt-utils.service.ts","webpack:///./src/app/login-service/token-interceptor.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["var map = {\n\t\"./components/istorijat/istorijat.module\": [\n\t\t\"./src/app/components/istorijat/istorijat.module.ts\",\n\t\t\"components-istorijat-istorijat-module\"\n\t],\n\t\"./components/kontakt/kontakt.module\": [\n\t\t\"./src/app/components/kontakt/kontakt.module.ts\",\n\t\t\"components-kontakt-kontakt-module\"\n\t],\n\t\"./components/login/login.module\": [\n\t\t\"./src/app/components/login/login.module.ts\",\n\t\t\"components-login-login-module\"\n\t],\n\t\"./components/nova-radi/nova-radi.module\": [\n\t\t\"./src/app/components/nova-radi/nova-radi.module.ts\",\n\t\t\"components-nova-radi-nova-radi-module\"\n\t],\n\t\"./components/osobe/osobe.module\": [\n\t\t\"./src/app/components/osobe/osobe.module.ts\",\n\t\t\"components-osobe-osobe-module\"\n\t],\n\t\"./components/page-not-found/page-not-found.module\": [\n\t\t\"./src/app/components/page-not-found/page-not-found.module.ts\",\n\t\t\"components-page-not-found-page-not-found-module\"\n\t],\n\t\"./components/pronadjena-strana/pronadjena-strana.module\": [\n\t\t\"./src/app/components/pronadjena-strana/pronadjena-strana.module.ts\",\n\t\t\"components-pronadjena-strana-pronadjena-strana-module\"\n\t],\n\t\"./components/slike/slike.module\": [\n\t\t\"./src/app/components/slike/slike.module.ts\",\n\t\t\"components-slike-slike-module\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\nmodule.exports = webpackAsyncContext;","module.exports = \"\"","module.exports = \"<nav class=\\\"navbar navbar-inverse\\\">\\n  <div class=\\\"container\\\">\\n    <div class=\\\"navbar-header\\\">\\n      <a class=\\\"navbar-brand\\\" href=\\\"home\\\">PozoristePromena</a>\\n      <a class=\\\"navbar-brand\\\" href=\\\"istorijat\\\">Istorijat</a>\\n      <a class=\\\"navbar-brand\\\" href=\\\"nova\\\">Predstava</a>\\n      <a class=\\\"navbar-brand\\\" href=\\\"nova\\\">Repertoar</a>\\n      <a class=\\\"navbar-brand\\\" href=\\\"galerija\\\">Galerija</a>\\n      <a class=\\\"navbar-brand\\\" href=\\\"ansambl\\\">Ansambl</a>\\n      <a class=\\\"navbar-brand\\\" href=\\\"kontakt\\\">Kontakt</a>\\n      <a class=\\\"navbar-brand\\\" href=\\\"oNama\\\">O nama</a>\\n    </div>\\n    <div id=\\\"navbar\\\" class=\\\"navbar-collapse collapse\\\">\\n      <!-- <ul class=\\\"nav navbar-nav\\\">\\n        <li class=\\\"active\\\"><a href=\\\"studenti\\\">Students</a></li>\\n        <li><a href=\\\"about\\\">About</a></li>\\n        <li><a href=\\\"contact\\\">Contact</a></li>\\n      </ul> -->\\n      <ul class=\\\"nav navbar-nav pull-right\\\">\\n          <!-- <li *ngIf=\\\"!isLoggedIn()\\\"><a (click)=\\\"toggleLogIn()\\\">LogIn</a></li> -->\\n            <!-- <li  (click)=\\\"toggleLogIn()\\\" routerLink=\\\"login\\\"><a>LogIn</a></li> -->\\n            <li *ngIf=\\\"isLoggedIn()\\\" [routerLink]=\\\"['../nova']\\\"><a (click)=\\\"logout()\\\">Logout</a></li>\\n\\t\\t\\t\\t<!-- <li *ngIf=\\\"isLoggedIn()\\\"><Za (click)=\\\"logout()\\\">Logout</a></li> -->\\n\\t\\t\\t</ul>\\n    </div>\\n  </div>\\n</nav>\\n\\n    <router-outlet></router-outlet>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { AuthenticationService } from 'src/app/login-service/authentication-service.service';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs/Rx';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  title = 'PozoristePromena';\n\n  public logIn = false;\n\n  public user;\n\n  public wrongUsernameOrPass: boolean;\n\n  constructor(private authenticationService: AuthenticationService,\n    private router: Router) {\n  }\n\n  ngOnInit() {\n  }\n\n  login(): void {\n    this.authenticationService.login(this.user.username, this.user.password).subscribe(\n      (loggedIn: boolean) => {\n        if (loggedIn) {\n          this.router.navigate(['nova']);\n        }\n      }\n    ,\n    (err: Error) => {\n      if (err.toString() === 'Ilegal login') {\n        this.wrongUsernameOrPass = true;\n        console.log(err);\n      } else {\n        Observable.throw(err);\n      }\n    });\n  }\n\n  logout(): void {\n    this.authenticationService.logout();\n    this.router.navigate(['home']);\n  }\n\n  isLoggedIn(): boolean {\n    return this.authenticationService.isLoggedIn();\n  }\n\n  toggleLogIn(): void {\n    this.logIn = !this.logIn;\n  }\n\n  isAdmin(): boolean {\n    return this.authenticationService.isAdmin();\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { AppComponent } from './app.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport {routing} from './app.routing';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { TokenInterceptorService } from 'src/app/login-service/token-interceptor.service';\nimport { AuthenticationService } from 'src/app/login-service/authentication-service.service';\nimport { CanActivateAuthGuard } from 'src/app/login-service/can-activate-auth.guard';\nimport { JwtUtilsService } from 'src/app/login-service/jwt-utils.service';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpClientModule,\n    routing\n  ],\n  providers: [{\n    provide: HTTP_INTERCEPTORS,\n    useClass: TokenInterceptorService,\n    multi: true\n  },\n  AuthenticationService,\n  CanActivateAuthGuard,\n  JwtUtilsService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import {Routes, RouterModule} from '@angular/router';\r\nimport {ModuleWithProviders} from '@angular/core';\r\n\r\nconst routes: Routes = [\r\n  { path: '', redirectTo: 'home', pathMatch: 'full'},\r\n  // { path: 'login', redirectTo: 'uloguj', pathMatch: 'full'},\r\n  { path: 'home', loadChildren: './components/pronadjena-strana/pronadjena-strana.module#PronadjenaStranaModule'},\r\n  { path: 'login', loadChildren: './components/login/login.module#LoginModule'},\r\n  { path: 'oNama', loadChildren: './components/nova-radi/nova-radi.module#NovaRadiModule'},\r\n  { path: 'istorijat', loadChildren: './components/istorijat/istorijat.module#IstorijatModule'},\r\n  { path: 'ansambl', loadChildren: './components/osobe/osobe.module#OsobeModule'},\r\n  { path: 'galerija', loadChildren: './components/slike/slike.module#SlikeModule'},\r\n  { path: 'kontakt', loadChildren: './components/kontakt/kontakt.module#KontaktModule'},\r\n  {path: '**', loadChildren: './components/page-not-found/page-not-found.module#PageNotFoundModule'}\r\n];\r\n\r\nexport const routing: ModuleWithProviders = RouterModule.forRoot(routes);\r\n","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Rx';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { JwtUtilsService } from './jwt-utils.service';\nimport { User } from '../model/user';\n\n@Injectable()\nexport class AuthenticationService {\n\n  private readonly loginPath = '/api/login';\n\n  constructor(private http: HttpClient, private jwtUtilsService: JwtUtilsService) { }\n\n  login(username: string, password: string): Observable<boolean> {\n    var headers: HttpHeaders = new HttpHeaders({ 'Content-Type': 'application/json' });\n    return this.http.post(this.loginPath, JSON.stringify({ username, password }), { headers })\n      .map((res: any) => {\n        let token = res && res['token'];\n        if (token) {\n          localStorage.setItem('currentUser', JSON.stringify({\n            username: username,\n            roles: this.jwtUtilsService.getRoles(token),\n            token: token\n          }));\n          return true;\n        } else {\n          return false;\n        }\n      })\n      .catch((error: any) => {\n        if (error.status === 400) {\n          return Observable.throw('Ilegal login');\n        } else {\n          return Observable.throw(error.json().error || 'Server error');\n        }\n      });\n  }\n\n  getToken(): String {\n    const currentUser = JSON.parse(localStorage.getItem('currentUser'));\n    const token = currentUser && currentUser.token;\n    return token ? token : '';\n  }\n\n  logout(): void {\n    localStorage.removeItem('currentUser');\n  }\n\n  isLoggedIn(): boolean {\n    if (this.getToken() !== '') {\n       return true;\n      } else {\n      return false;\n    }\n  }\n\n  getCurrentUser(): User {\n    if (localStorage.currentUser) {\n      return JSON.parse(localStorage.currentUser);\n    } else {\n      return undefined;\n    }\n  }\n\n  isAdmin() {\n    if (this.getCurrentUser()) {\n      return this.getCurrentUser().roles.indexOf('ADMIN') >= 0;\n    }\n\n    return false;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { AuthenticationService } from './authentication-service.service';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class CanActivateAuthGuard implements CanActivate {\n\n  constructor(private authenticationService: AuthenticationService, private router: Router) { }\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n    if (this.authenticationService.isLoggedIn()) {\n      return true;\n    } else {\n      this.router.navigate(['']);\n      return false;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class JwtUtilsService {\n\n  constructor() { }\n\n  getRoles(token: string) {\n    let jwtData = token.split('.')[1];\n    let decodedJwtJsonData = window.atob(jwtData);\n    let decodedJwtData = JSON.parse(decodedJwtJsonData);\n\n    return decodedJwtData.roles.map(x => x.authority) || [];\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpInterceptor } from '@angular/common/http';\nimport { AuthenticationService } from './authentication-service.service';\nimport { HttpRequest } from '@angular/common/http';\nimport { HttpHandler } from '@angular/common/http';\nimport { HttpEvent } from '@angular/common/http';\nimport { HttpHeaders } from '@angular/common/http/src/headers';\nimport { Injector } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class TokenInterceptorService implements HttpInterceptor {\n\n  constructor(private inj: Injector) { }\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    let authenticationService: AuthenticationService = this.inj.get(AuthenticationService);\n    request = request.clone({\n      setHeaders: {\n        'X-Auth-Token': `${authenticationService.getToken()}`\n      }\n    });\n\n    return next.handle(request);\n  }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n\n"],"sourceRoot":""}